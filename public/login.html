<!doctype html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="color-scheme" content="dark" />
  <title>AUTH PORTAL — Ultra Futuristic</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            navy: {
              950: "#040713",
              900: "#070B1E",
              850: "#0A1029",
              800: "#0B122D",
              700: "#101B3F",
            },
            neon: {
              cyan: "#22D3EE",
              blue: "#3B82F6",
              sky: "#38BDF8",
              glow: "#7DD3FC",
            },
            plasma: {
              pink: "#FF3DF2",
              red: "#FF2E63",
              violet: "#8B5CF6",
            }
          },
          fontFamily: {
            ui: ["ui-sans-serif", "system-ui", "Inter", "Segoe UI", "Roboto", "Helvetica", "Arial", "Apple Color Emoji", "Segoe UI Emoji"]
          },
          keyframes: {
            floaty: {
              "0%, 100%": { transform: "translateY(0px) translateX(0px)" },
              "50%": { transform: "translateY(-12px) translateX(6px)" }
            },
            shimmer: {
              "0%": { backgroundPosition: "0% 50%" },
              "100%": { backgroundPosition: "200% 50%" }
            },
            flicker: {
              "0%, 100%": { opacity: "1" },
              "50%": { opacity: ".85" },
              "60%": { opacity: ".65" },
              "70%": { opacity: ".9" }
            },
            scanline: {
              "0%": { transform: "translateY(-10%)" },
              "100%": { transform: "translateY(10%)" }
            },
            glitch: {
              "0%":   { transform: "translate(0)", filter: "hue-rotate(0deg)" },
              "10%":  { transform: "translate(-1px, 1px) skewX(2deg)", filter: "hue-rotate(10deg)" },
              "20%":  { transform: "translate(2px, -1px) skewX(-2deg)", filter: "hue-rotate(-12deg)" },
              "30%":  { transform: "translate(-2px, 0px) skewX(1deg)", filter: "hue-rotate(18deg)" },
              "40%":  { transform: "translate(2px, 1px) skewX(-1deg)", filter: "hue-rotate(-10deg)" },
              "50%":  { transform: "translate(0)", filter: "hue-rotate(0deg)" },
              "100%": { transform: "translate(0)", filter: "hue-rotate(0deg)" }
            },
            shake: {
              "0%, 100%": { transform: "translateX(0)" },
              "20%": { transform: "translateX(-6px)" },
              "40%": { transform: "translateX(6px)" },
              "60%": { transform: "translateX(-4px)" },
              "80%": { transform: "translateX(4px)" }
            }
          },
          animation: {
            floaty: "floaty 8s ease-in-out infinite",
            shimmer: "shimmer 2.6s linear infinite",
            flicker: "flicker 3.5s ease-in-out infinite",
            scanline: "scanline 6.5s linear infinite",
            glitch: "glitch 500ms steps(2, end) both",
            shake: "shake 380ms ease-in-out both"
          },
          boxShadow: {
            neon: "0 0 0 1px rgba(34,211,238,.35), 0 0 28px rgba(34,211,238,.18), 0 0 72px rgba(59,130,246,.12)",
            plasma: "0 0 0 1px rgba(255,61,242,.25), 0 0 32px rgba(255,61,242,.12)",
          }
        }
      }
    }
  </script>

  <style>
    /* -----------------------------
      Base background system
    ------------------------------ */
    :root{
      --bg0:#040713;
      --bg1:#070B1E;
      --grid: rgba(125, 211, 252, .06);
      --grid2: rgba(34, 211, 238, .04);
      --noise: rgba(255,255,255,.03);
      --glass: rgba(8, 12, 30, .56);
      --stroke: rgba(125, 211, 252, .18);
      --stroke2: rgba(34, 211, 238, .22);
      --danger: #ff2e63;
      --danger2: #ff3df2;
      --ok: #22d3ee;
    }

    html, body {
      height: 100%;
      background: radial-gradient(1200px 800px at 20% 10%, rgba(59,130,246,.12), transparent 50%),
                  radial-gradient(900px 700px at 90% 0%, rgba(34,211,238,.10), transparent 55%),
                  radial-gradient(800px 600px at 65% 80%, rgba(139,92,246,.10), transparent 55%),
                  linear-gradient(180deg, var(--bg1), var(--bg0));
      overflow-x: hidden;
    }

    /* Subtle grid lines */
    .grid-overlay {
      background-image:
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 22px,
          var(--grid) 23px
        ),
        repeating-linear-gradient(
          90deg,
          transparent,
          transparent 22px,
          var(--grid2) 23px
        );
      mask-image: radial-gradient(70% 60% at 50% 35%, rgba(0,0,0,1), rgba(0,0,0,.55) 55%, rgba(0,0,0,0) 85%);
      -webkit-mask-image: radial-gradient(70% 60% at 50% 35%, rgba(0,0,0,1), rgba(0,0,0,.55) 55%, rgba(0,0,0,0) 85%);
    }

    /* Noise layer (no external assets) */
    .noise-overlay {
      background-image:
        radial-gradient(circle at 10% 20%, var(--noise) 0 1px, transparent 1px),
        radial-gradient(circle at 70% 10%, var(--noise) 0 1px, transparent 1px),
        radial-gradient(circle at 40% 80%, var(--noise) 0 1px, transparent 1px),
        radial-gradient(circle at 90% 70%, var(--noise) 0 1px, transparent 1px);
      background-size: 120px 120px, 160px 160px, 140px 140px, 180px 180px;
      opacity: .26;
      mix-blend-mode: overlay;
    }

    /* Energy orbs */
    .orb {
      position: absolute;
      border-radius: 999px;
      filter: blur(18px);
      opacity: .55;
      transform: translateZ(0);
      will-change: transform, opacity;
      mix-blend-mode: screen;
    }
    .orb::after{
      content:"";
      position:absolute; inset:-18px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(34,211,238,.55), transparent 60%);
      filter: blur(22px);
      opacity: .8;
    }
    .orb.a { width: 240px; height: 240px; background: radial-gradient(circle at 35% 35%, rgba(59,130,246,.55), transparent 60%); }
    .orb.b { width: 320px; height: 320px; background: radial-gradient(circle at 40% 40%, rgba(34,211,238,.45), transparent 62%); }
    .orb.c { width: 280px; height: 280px; background: radial-gradient(circle at 40% 40%, rgba(139,92,246,.40), transparent 62%); }

    /* Cursor spotlight overlay (updated via JS) */
    .spotlight {
      background: radial-gradient(520px 520px at var(--mx, 50%) var(--my, 35%),
        rgba(34,211,238,.10),
        rgba(59,130,246,.06) 30%,
        rgba(0,0,0,0) 65%);
      opacity: .9;
      pointer-events: none;
      transition: opacity 200ms ease;
    }

    /* Scanline overlay + vignette */
    .scanlines::before {
      content:"";
      position:absolute; inset:0;
      background:
        repeating-linear-gradient(
          0deg,
          rgba(255,255,255,.045),
          rgba(255,255,255,.045) 1px,
          rgba(0,0,0,0) 3px,
          rgba(0,0,0,0) 7px
        );
      opacity: .12;
      pointer-events:none;
      transform: translateZ(0);
      animation: scanline 6.5s linear infinite;
    }
    .scanlines::after{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(80% 65% at 50% 35%, rgba(0,0,0,0), rgba(0,0,0,.55) 72%, rgba(0,0,0,.82) 100%);
      pointer-events:none;
      opacity: .9;
    }

    /* -----------------------------
      Glitch system
    ------------------------------ */
    .glitch {
      position: relative;
      display: inline-block;
      text-shadow: 0 0 18px rgba(34,211,238,.18);
    }

    .glitch::before,
    .glitch::after {
      content: attr(data-text);
      position: absolute;
      left: 0; top: 0;
      width: 100%;
      overflow: hidden;
      opacity: .9;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    .glitch::before {
      transform: translateX(-1px);
      text-shadow: -2px 0 rgba(34,211,238,.55);
      clip-path: inset(0 0 60% 0);
    }
    .glitch::after {
      transform: translateX(1px);
      text-shadow: 2px 0 rgba(255,61,242,.38);
      clip-path: inset(45% 0 0 0);
    }

    /* Burst toggled by JS (elegant, short) */
    .glitch-burst {
      animation: glitch 520ms steps(2,end) both;
    }
    .glitch-burst::before {
      clip-path: inset(10% 0 62% 0);
      transform: translate(-2px, 0);
    }
    .glitch-burst::after {
      clip-path: inset(55% 0 8% 0);
      transform: translate(2px, 0);
    }

    /* -----------------------------
      Card & electric border
    ------------------------------ */
    .glass {
      background: linear-gradient(180deg, rgba(8, 12, 30, .58), rgba(4, 7, 19, .44));
      border: 1px solid rgba(125,211,252,.14);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }

    .electric-border {
      position: relative;
      isolation: isolate;
    }
    .electric-border::before{
      content:"";
      position:absolute; inset:-1px;
      border-radius: 1.25rem;
      background: linear-gradient(90deg,
        rgba(34,211,238,.00),
        rgba(34,211,238,.50),
        rgba(59,130,246,.40),
        rgba(139,92,246,.32),
        rgba(255,61,242,.22),
        rgba(34,211,238,.50),
        rgba(34,211,238,.00)
      );
      background-size: 240% 100%;
      filter: blur(0px);
      opacity: .9;
      z-index: -1;
      animation: shimmer 2.9s linear infinite;
    }
    .electric-border::after{
      content:"";
      position:absolute; inset:0;
      border-radius: 1.25rem;
      background: rgba(8, 12, 30, .56);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      z-index: -1;
      border: 1px solid rgba(125,211,252,.10);
    }

    /* Corner spark */
    .spark {
      position: absolute;
      width: 16px; height: 16px;
      right: 12px; top: 12px;
      border-radius: 6px;
      background: radial-gradient(circle at 30% 30%, rgba(34,211,238,.9), rgba(59,130,246,.25) 55%, rgba(0,0,0,0) 70%);
      filter: drop-shadow(0 0 10px rgba(34,211,238,.45));
      opacity: .85;
      animation: flicker 3.4s ease-in-out infinite;
      pointer-events: none;
    }
    .spark::before{
      content:"";
      position:absolute; inset:-10px;
      border-radius: 12px;
      border: 1px solid rgba(34,211,238,.18);
      opacity: .55;
    }

    /* -----------------------------
      Inputs: electric underline + focus ring
    ------------------------------ */
    .field {
      position: relative;
    }
    .field input {
      outline: none;
    }
    .field .underline {
      position: absolute;
      left: 12px;
      right: 12px;
      bottom: 10px;
      height: 1px;
      background: linear-gradient(90deg, rgba(34,211,238,.00), rgba(34,211,238,.55), rgba(59,130,246,.35), rgba(34,211,238,.00));
      opacity: 0;
      transform: scaleX(.85);
      transform-origin: center;
      transition: opacity 180ms ease, transform 220ms ease;
      pointer-events: none;
      filter: drop-shadow(0 0 8px rgba(34,211,238,.25));
    }
    .field:focus-within .underline{
      opacity: 1;
      transform: scaleX(1);
    }

    /* Error state */
    .is-invalid input {
      border-color: rgba(255,46,99,.55) !important;
      box-shadow: 0 0 0 3px rgba(255,46,99,.18) !important;
    }
    .error-text {
      color: rgba(255,61,242,.9);
    }

    /* Neon checkbox */
    .neo-check {
      appearance: none;
      width: 18px; height: 18px;
      border-radius: 6px;
      border: 1px solid rgba(125,211,252,.25);
      background: rgba(6, 10, 26, .55);
      display: inline-grid;
      place-items: center;
      transition: transform 120ms ease, box-shadow 180ms ease, border-color 180ms ease;
      box-shadow: 0 0 0 1px rgba(34,211,238,.10);
    }
    .neo-check:checked {
      border-color: rgba(34,211,238,.55);
      box-shadow: 0 0 0 1px rgba(34,211,238,.25), 0 0 18px rgba(34,211,238,.18);
      transform: scale(1.03);
      background: linear-gradient(180deg, rgba(34,211,238,.22), rgba(59,130,246,.12));
    }
    .neo-check:checked::after {
      content:"";
      width: 10px; height: 10px;
      border-radius: 4px;
      background: radial-gradient(circle at 30% 30%, rgba(34,211,238,.95), rgba(59,130,246,.55));
      filter: drop-shadow(0 0 8px rgba(34,211,238,.35));
    }
    .neo-check:focus-visible {
      outline: 2px solid rgba(34,211,238,.65);
      outline-offset: 3px;
    }

    /* Tab slider */
    .tab-rail {
      background: rgba(6, 10, 26, .55);
      border: 1px solid rgba(125,211,252,.14);
      box-shadow: inset 0 0 0 1px rgba(34,211,238,.06);
    }
    .tab-pill {
      background: linear-gradient(90deg, rgba(34,211,238,.22), rgba(59,130,246,.18), rgba(139,92,246,.14));
      box-shadow: 0 0 0 1px rgba(34,211,238,.18), 0 0 28px rgba(34,211,238,.10);
      border: 1px solid rgba(125,211,252,.14);
    }

    /* Buttons: electric */
    .btn-electric {
      position: relative;
      overflow: hidden;
      transform: translateZ(0);
    }
    .btn-electric::before {
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(90deg,
        rgba(34,211,238,.00),
        rgba(34,211,238,.35),
        rgba(59,130,246,.25),
        rgba(255,61,242,.18),
        rgba(34,211,238,.35),
        rgba(34,211,238,.00)
      );
      background-size: 240% 100%;
      opacity: .0;
      transition: opacity 180ms ease;
      filter: blur(8px);
    }
    .btn-electric:hover::before {
      opacity: .75;
      animation: shimmer 1.9s linear infinite;
    }
    .btn-electric:active {
      transform: translateY(1px);
    }

    /* Ripple span */
    .ripple {
      position:absolute;
      border-radius: 999px;
      transform: scale(0);
      opacity: .55;
      pointer-events:none;
      background: radial-gradient(circle, rgba(34,211,238,.55), rgba(59,130,246,.28), rgba(0,0,0,0) 70%);
      animation: ripple 680ms ease-out forwards;
      filter: drop-shadow(0 0 14px rgba(34,211,238,.25));
    }
    @keyframes ripple {
      to { transform: scale(12); opacity: 0; }
    }

    /* Toast */
    .toast {
      position: fixed;
      right: 18px;
      top: 18px;
      z-index: 80;
      width: min(420px, calc(100vw - 36px));
      transform: translateY(-10px);
      opacity: 0;
      pointer-events: none;
      transition: opacity 220ms ease, transform 220ms ease;
    }
    .toast.show {
      transform: translateY(0);
      opacity: 1;
      pointer-events: auto;
    }
    .toast-card {
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(8, 12, 30, .74), rgba(4, 7, 19, .62));
      border: 1px solid rgba(125,211,252,.18);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      box-shadow: 0 0 0 1px rgba(34,211,238,.12), 0 12px 60px rgba(0,0,0,.55);
      overflow: hidden;
      position: relative;
    }
    .toast-card::before{
      content:"";
      position:absolute; inset:-1px;
      background: linear-gradient(90deg, rgba(34,211,238,.00), rgba(34,211,238,.35), rgba(255,61,242,.16), rgba(34,211,238,.00));
      background-size: 240% 100%;
      opacity: .8;
      animation: shimmer 2.4s linear infinite;
      filter: blur(10px);
      pointer-events:none;
    }
    .toast-close {
      border: 1px solid rgba(125,211,252,.16);
      background: rgba(6, 10, 26, .45);
    }

    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
      .scanlines::before { animation: none !important; }
      .orb { animation: none !important; }
      .spotlight { transition: none !important; }
      .electric-border::before { animation-duration: 9s !important; }
      .btn-electric::before { animation: none !important; }
      .glitch-burst { animation: none !important; }
    }
  </style>
</head>

<body class="font-ui text-slate-100 selection:bg-cyan-300/20 selection:text-white">
  <!-- Background layers -->
  <div class="fixed inset-0 -z-50">
    <div class="absolute inset-0 grid-overlay opacity-70"></div>
    <div class="absolute inset-0 noise-overlay"></div>
    <div id="spotlight" class="absolute inset-0 spotlight"></div>

    <!-- Energy orbs (positioned, animated lightly via JS / Tailwind anim) -->
    <div id="orbA" class="orb a absolute left-[6%] top-[12%] animate-floaty"></div>
    <div id="orbB" class="orb b absolute right-[8%] top-[14%] animate-floaty" style="animation-delay:-2.2s"></div>
    <div id="orbC" class="orb c absolute left-[28%] bottom-[10%] animate-floaty" style="animation-delay:-4.4s"></div>
  </div>

  <!-- Scanline overlay + vignette -->
  <div class="fixed inset-0 pointer-events-none -z-40 scanlines"></div>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">
    <div class="toast-card p-4">
      <div class="relative flex items-start gap-3">
        <div id="toastDot" class="mt-1 h-3 w-3 rounded-full bg-cyan-300/80 shadow-[0_0_18px_rgba(34,211,238,.25)]"></div>
        <div class="min-w-0">
          <div class="flex items-center gap-2">
            <p id="toastTitle" class="text-sm font-semibold tracking-wider text-slate-50">SYSTEM</p>
            <span id="toastTag" class="text-[11px] px-2 py-[2px] rounded-full border border-cyan-300/20 bg-cyan-300/10 text-cyan-200 tracking-widest">NOTICE</span>
          </div>
          <p id="toastMsg" class="mt-1 text-sm text-slate-200/90 leading-relaxed">
            Message placeholder
          </p>
        </div>
        <button id="toastClose" class="toast-close ml-auto rounded-lg px-2 py-1 text-xs tracking-widest text-slate-200 hover:text-white focus:outline-none focus-visible:outline-2 focus-visible:outline-cyan-300/70"
          aria-label="Close notification (ESC)">
          CLOSE
        </button>
      </div>
    </div>
  </div>

  <!-- Main -->
  <main class="min-h-screen flex items-center justify-center px-4 py-10">
    <section class="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-10 items-center">
      <!-- Left: Status panel -->
      <aside class="lg:col-span-4 xl:col-span-4 hidden lg:block">
        <div class="glass rounded-2xl p-6 border border-sky-200/10 shadow-neon relative overflow-hidden">
          <div class="absolute inset-0 opacity-[.08] pointer-events-none"
               style="background: radial-gradient(600px 260px at 30% 10%, rgba(34,211,238,.55), transparent 60%),
                      radial-gradient(520px 220px at 70% 60%, rgba(139,92,246,.45), transparent 60%);"></div>

          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="h-10 w-10 rounded-xl border border-cyan-300/20 bg-cyan-300/10 grid place-items-center shadow-[0_0_28px_rgba(34,211,238,.12)]">
                <!-- Logo (glitchable) -->
                <span id="brandLogo" class="glitch text-cyan-200 font-semibold tracking-[0.28em] text-xs" data-text="NEO">
                  NEO
                </span>
              </div>
              <div>
                <p class="text-xs tracking-[0.3em] text-slate-200/70">ENCRYPTED SESSION</p>
                <p class="mt-1 text-base font-semibold text-slate-50 tracking-wide">
                  CONTROL LAYER ACCESS
                </p>
              </div>
            </div>
            <span class="text-[11px] px-2 py-[2px] rounded-full border border-cyan-300/20 bg-cyan-300/10 text-cyan-200 tracking-widest">
              LIVE
            </span>
          </div>

          <div class="mt-6 grid gap-3">
            <div class="flex items-center justify-between rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3">
              <div class="flex items-center gap-2">
                <span class="h-2.5 w-2.5 rounded-full bg-cyan-300/80 shadow-[0_0_18px_rgba(34,211,238,.25)]"></span>
                <p class="text-sm text-slate-100/90 tracking-wide">System Status</p>
              </div>
              <p class="text-sm font-semibold tracking-widest text-cyan-200">ONLINE</p>
            </div>

            <div class="flex items-center justify-between rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3">
              <div class="flex items-center gap-2">
                <span class="h-2.5 w-2.5 rounded-full bg-sky-300/80 shadow-[0_0_18px_rgba(56,189,248,.18)]"></span>
                <p class="text-sm text-slate-100/90 tracking-wide">Encryption</p>
              </div>
              <p class="text-sm font-semibold tracking-widest text-sky-200">ACTIVE</p>
            </div>

            <div class="flex items-center justify-between rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3">
              <div class="flex items-center gap-2">
                <span class="h-2.5 w-2.5 rounded-full bg-violet-300/75 shadow-[0_0_18px_rgba(139,92,246,.18)]"></span>
                <p class="text-sm text-slate-100/90 tracking-wide">Latency</p>
              </div>
              <p class="text-sm font-semibold tracking-widest text-violet-200">12ms</p>
            </div>

            <div class="flex items-center justify-between rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3">
              <div class="flex items-center gap-2">
                <span class="h-2.5 w-2.5 rounded-full bg-cyan-200/70 shadow-[0_0_18px_rgba(34,211,238,.18)]"></span>
                <p class="text-sm text-slate-100/90 tracking-wide">Location</p>
              </div>
              <p class="text-sm font-semibold tracking-widest text-cyan-100">SEA-01</p>
            </div>
          </div>

          <div class="mt-6 pt-5 border-t border-sky-200/10">
            <p class="text-xs tracking-[0.28em] text-slate-200/60">SECURITY NOTICE</p>
            <p class="mt-2 text-sm text-slate-200/80 leading-relaxed">
              Enter credentials to access the control layer. Untrusted sessions are isolated by zero-trust perimeter.
            </p>
          </div>
        </div>
      </aside>

      <!-- Right: Auth card -->
      <section class="lg:col-span-8 xl:col-span-8">
        <div class="electric-border rounded-2xl p-[1px] shadow-neon">
          <div class="spark" aria-hidden="true"></div>

          <div class="rounded-2xl p-6 sm:p-8 relative overflow-hidden">
            <!-- top glow -->
            <div class="absolute -top-24 -left-24 h-72 w-72 rounded-full opacity-[.16] blur-2xl"
                 style="background: radial-gradient(circle at 30% 30%, rgba(34,211,238,.65), transparent 60%);"></div>
            <div class="absolute -bottom-28 -right-28 h-80 w-80 rounded-full opacity-[.14] blur-2xl"
                 style="background: radial-gradient(circle at 40% 40%, rgba(139,92,246,.55), transparent 60%);"></div>

            <!-- Header -->
            <div class="relative">
              <div class="flex items-start justify-between gap-4">
                <div class="min-w-0">
                  <p class="text-xs tracking-[0.35em] text-slate-200/70">AUTHORIZATION PORTAL</p>
                  <h1 class="mt-2 text-2xl sm:text-3xl font-semibold tracking-wide text-slate-50">
                    <span id="headline" class="glitch" data-text="AUTHORIZATION PORTAL">AUTHORIZATION PORTAL</span>
                  </h1>
                  <p class="mt-2 text-sm text-slate-200/80">
                    Enter credentials to access the control layer.
                  </p>
                </div>

                <div class="flex flex-col items-end gap-2">
                  <span class="text-[11px] px-2 py-[2px] rounded-full border border-cyan-300/20 bg-cyan-300/10 text-cyan-200 tracking-widest">
                    <span id="modeLabel" class="glitch" data-text="LOGIN">LOGIN</span>
                  </span>
                  <span class="text-[11px] px-2 py-[2px] rounded-full border border-sky-200/15 bg-white/5 text-slate-200/80 tracking-widest">
                    ZERO TRUST
                  </span>
                </div>
              </div>

              <!-- Tabs -->
              <div class="mt-6">
                <div class="tab-rail relative rounded-2xl p-1 flex items-center gap-1">
                  <div id="tabPill" class="tab-pill absolute top-1 bottom-1 left-1 w-1/2 rounded-xl transition-transform duration-300 ease-out"></div>

                  <button id="tabLogin" type="button"
                    class="relative z-10 w-1/2 py-2.5 rounded-xl text-xs sm:text-sm font-semibold tracking-[0.22em] uppercase text-slate-50 focus:outline-none focus-visible:outline-2 focus-visible:outline-cyan-300/60">
                    Login
                  </button>

                  <button id="tabSignup" type="button"
                    class="relative z-10 w-1/2 py-2.5 rounded-xl text-xs sm:text-sm font-semibold tracking-[0.22em] uppercase text-slate-200/70 hover:text-slate-50 focus:outline-none focus-visible:outline-2 focus-visible:outline-cyan-300/60">
                    Signup
                  </button>
                </div>
              </div>
            </div>

            <!-- Forms container -->
            <div class="relative mt-6">
              <div class="relative overflow-hidden">
                <div id="formsTrack" class="flex w-[200%] transition-transform duration-400 ease-out"
                     style="transform: translateX(0%);">

                  <!-- LOGIN FORM -->
                  <form id="loginForm" class="w-1/2 pr-3 sm:pr-4" novalidate>
                    <div class="grid gap-4">
                      <div class="field" id="loginEmailField">
                        <label for="loginEmail" class="block text-xs tracking-[0.28em] text-slate-200/70 uppercase">
                          Email
                        </label>
                        <div class="mt-2 relative">
                          <input id="loginEmail" name="email" type="email" autocomplete="email" aria-label="Email"
                            class="w-full rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3 text-slate-50 placeholder:text-slate-200/35
                                   focus:border-cyan-300/40 focus:ring-4 focus:ring-cyan-300/10 transition"
                            placeholder="operator@domain.com" />
                          <div class="underline"></div>
                        </div>
                        <p class="mt-1 text-xs error-text hidden" data-error-for="loginEmail">Invalid email format.</p>
                      </div>

                      <div class="field" id="loginPassField">
                        <label for="loginPassword" class="block text-xs tracking-[0.28em] text-slate-200/70 uppercase">
                          Password
                        </label>
                        <div class="mt-2 relative">
                          <input id="loginPassword" name="password" type="password" autocomplete="current-password" aria-label="Password"
                            class="w-full rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3 pr-12 text-slate-50 placeholder:text-slate-200/35
                                   focus:border-cyan-300/40 focus:ring-4 focus:ring-cyan-300/10 transition"
                            placeholder="••••••••" />
                          <button type="button" id="toggleLoginPass"
                            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-lg p-2 text-slate-200/70 hover:text-slate-50
                                   focus:outline-none focus-visible:outline-2 focus-visible:outline-cyan-300/60"
                            aria-label="Toggle password visibility">
                            <!-- Eye icon -->
                            <svg id="eyeLogin" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none">
                              <path d="M2.1 12.1C3.7 7.8 7.5 5 12 5c4.6 0 8.3 2.9 9.9 7.1-1.6 4.2-5.3 7-9.9 7-4.5 0-8.3-2.8-9.9-7Z" stroke="currentColor" stroke-width="1.6"/>
                              <path d="M12 15.2a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4Z" stroke="currentColor" stroke-width="1.6"/>
                            </svg>
                          </button>
                          <div class="underline"></div>
                        </div>
                        <p class="mt-1 text-xs error-text hidden" data-error-for="loginPassword">Password must be at least 8 characters.</p>
                      </div>

                      <div class="flex items-center justify-between gap-4">
                        <label class="flex items-center gap-2 text-sm text-slate-200/80 select-none">
                          <input id="rememberMe" type="checkbox" class="neo-check" />
                          <span class="text-xs tracking-wide">Remember me</span>
                        </label>

                        <a href="#" class="text-xs tracking-widest text-cyan-200/80 hover:text-cyan-200 underline underline-offset-4 decoration-cyan-300/25">
                          FORGOT PASSWORD
                        </a>
                      </div>

                      <button type="submit"
                        class="btn-electric w-full rounded-xl border border-cyan-300/20 bg-cyan-300/10 px-4 py-3
                               text-xs sm:text-sm font-semibold uppercase tracking-[0.28em] text-slate-50
                               shadow-[0_0_0_1px_rgba(34,211,238,.18),_0_0_30px_rgba(34,211,238,.10)]
                               hover:border-cyan-300/35 hover:bg-cyan-300/12
                               focus:outline-none focus-visible:outline-2 focus-visible:outline-cyan-300/60">
                        SIGN IN
                      </button>

                      <p class="text-[11px] text-slate-200/60 tracking-widest">
                        BY CONTINUING, YOU ACKNOWLEDGE ENCRYPTED SESSION POLICIES.
                      </p>
                    </div>
                  </form>

                  <!-- SIGNUP FORM -->
                  <form id="signupForm" class="w-1/2 pl-3 sm:pl-4" novalidate>
                    <div class="grid gap-4">
                      <div class="field" id="signupNameField">
                        <label for="signupName" class="block text-xs tracking-[0.28em] text-slate-200/70 uppercase">
                          Full name
                        </label>
                        <div class="mt-2 relative">
                          <input id="signupName" name="name" type="text" autocomplete="name" aria-label="Full name"
                            class="w-full rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3 text-slate-50 placeholder:text-slate-200/35
                                   focus:border-cyan-300/40 focus:ring-4 focus:ring-cyan-300/10 transition"
                            placeholder="Neural Operator" />
                          <div class="underline"></div>
                        </div>
                        <p class="mt-1 text-xs error-text hidden" data-error-for="signupName">Name is required.</p>
                      </div>

                      <div class="field" id="signupEmailField">
                        <label for="signupEmail" class="block text-xs tracking-[0.28em] text-slate-200/70 uppercase">
                          Email
                        </label>
                        <div class="mt-2 relative">
                          <input id="signupEmail" name="email" type="email" autocomplete="email" aria-label="Email"
                            class="w-full rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3 text-slate-50 placeholder:text-slate-200/35
                                   focus:border-cyan-300/40 focus:ring-4 focus:ring-cyan-300/10 transition"
                            placeholder="operator@domain.com" />
                          <div class="underline"></div>
                        </div>
                        <p class="mt-1 text-xs error-text hidden" data-error-for="signupEmail">Invalid email format.</p>
                      </div>

                      <div class="field" id="signupPassField">
                        <label for="signupPassword" class="block text-xs tracking-[0.28em] text-slate-200/70 uppercase">
                          Password
                        </label>
                        <div class="mt-2 relative">
                          <input id="signupPassword" name="password" type="password" autocomplete="new-password" aria-label="Password"
                            class="w-full rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3 pr-12 text-slate-50 placeholder:text-slate-200/35
                                   focus:border-cyan-300/40 focus:ring-4 focus:ring-cyan-300/10 transition"
                            placeholder="min 8 chars" />
                          <button type="button" id="toggleSignupPass"
                            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-lg p-2 text-slate-200/70 hover:text-slate-50
                                   focus:outline-none focus-visible:outline-2 focus-visible:outline-cyan-300/60"
                            aria-label="Toggle password visibility">
                            <svg id="eyeSignup" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none">
                              <path d="M2.1 12.1C3.7 7.8 7.5 5 12 5c4.6 0 8.3 2.9 9.9 7.1-1.6 4.2-5.3 7-9.9 7-4.5 0-8.3-2.8-9.9-7Z" stroke="currentColor" stroke-width="1.6"/>
                              <path d="M12 15.2a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4Z" stroke="currentColor" stroke-width="1.6"/>
                            </svg>
                          </button>
                          <div class="underline"></div>
                        </div>
                        <p class="mt-1 text-xs error-text hidden" data-error-for="signupPassword">Password must be at least 8 characters.</p>
                      </div>

                      <div class="field" id="signupConfirmField">
                        <label for="signupConfirm" class="block text-xs tracking-[0.28em] text-slate-200/70 uppercase">
                          Confirm password
                        </label>
                        <div class="mt-2 relative">
                          <input id="signupConfirm" name="confirm" type="password" autocomplete="new-password" aria-label="Confirm password"
                            class="w-full rounded-xl border border-sky-200/10 bg-white/5 px-4 py-3 text-slate-50 placeholder:text-slate-200/35
                                   focus:border-cyan-300/40 focus:ring-4 focus:ring-cyan-300/10 transition"
                            placeholder="re-enter password" />
                          <div class="underline"></div>
                        </div>
                        <p class="mt-1 text-xs error-text hidden" data-error-for="signupConfirm">Passwords do not match.</p>
                      </div>

                      <label class="flex items-start gap-3 text-sm text-slate-200/80 select-none">
                        <input id="terms" type="checkbox" class="neo-check mt-[2px]" />
                        <span class="text-xs leading-relaxed tracking-wide">
                          I accept the <span class="text-cyan-200/80 underline underline-offset-4 decoration-cyan-300/25">terms</span> and
                          acknowledge secure onboarding protocol.
                        </span>
                      </label>
                      <p class="text-xs error-text hidden -mt-2" data-error-for="terms">You must accept the terms.</p>

                      <button type="submit"
                        class="btn-electric w-full rounded-xl border border-cyan-300/20 bg-cyan-300/10 px-4 py-3
                               text-xs sm:text-sm font-semibold uppercase tracking-[0.28em] text-slate-50
                               shadow-[0_0_0_1px_rgba(34,211,238,.18),_0_0_30px_rgba(34,211,238,.10)]
                               hover:border-cyan-300/35 hover:bg-cyan-300/12
                               focus:outline-none focus-visible:outline-2 focus-visible:outline-cyan-300/60">
                        CREATE ACCOUNT
                      </button>

                      <p class="text-[11px] text-slate-200/60 tracking-widest">
                        NEW IDENTITIES ARE VERIFIED AGAINST QUANTUM INTEGRITY CHECKS (SIMULATED).
                      </p>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <!-- Footer micro copy -->
            <div class="relative mt-6 flex flex-col sm:flex-row sm:items-center justify-between gap-3 border-t border-sky-200/10 pt-5">
              <p class="text-xs tracking-widest text-slate-200/60">
                SESSION ID: <span class="text-slate-100/80">QZ-SEA-01-7F3A</span>
              </p>
              <p class="text-xs tracking-widest text-slate-200/60">
                PERIMETER: <span class="text-cyan-200/70">ACTIVE</span>
              </p>
            </div>

            <!-- Hidden focus helper for accessibility -->
            <div class="sr-only" aria-hidden="true">
              Press ESC to close notifications.
            </div>
          </div>
        </div>

        <!-- Mobile mini status (below card) -->
        <div class="lg:hidden mt-6 glass rounded-2xl p-4 border border-sky-200/10 shadow-neon">
          <div class="flex items-center justify-between">
            <p class="text-xs tracking-[0.28em] text-slate-200/70">SYSTEM STATUS</p>
            <span class="text-[11px] px-2 py-[2px] rounded-full border border-cyan-300/20 bg-cyan-300/10 text-cyan-200 tracking-widest">ONLINE</span>
          </div>
          <div class="mt-3 grid grid-cols-2 gap-3">
            <div class="rounded-xl border border-sky-200/10 bg-white/5 px-3 py-2">
              <p class="text-[11px] tracking-widest text-slate-200/60">ENCRYPTION</p>
              <p class="mt-1 text-sm font-semibold tracking-widest text-sky-200">ACTIVE</p>
            </div>
            <div class="rounded-xl border border-sky-200/10 bg-white/5 px-3 py-2">
              <p class="text-[11px] tracking-widest text-slate-200/60">LATENCY</p>
              <p class="mt-1 text-sm font-semibold tracking-widest text-violet-200">12ms</p>
            </div>
          </div>
        </div>
      </section>
    </section>
  </main>

  <script>
    (function () {
      "use strict";

      // -----------------------------
      // Reduced motion handling
      // -----------------------------
      const reduceMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      // -----------------------------
      // Elements
      // -----------------------------
      const tabLogin = document.getElementById("tabLogin");
      const tabSignup = document.getElementById("tabSignup");
      const tabPill = document.getElementById("tabPill");
      const formsTrack = document.getElementById("formsTrack");
      const modeLabel = document.getElementById("modeLabel");
      const headline = document.getElementById("headline");
      const brandLogo = document.getElementById("brandLogo");

      const loginForm = document.getElementById("loginForm");
      const signupForm = document.getElementById("signupForm");

      const toggleLoginPass = document.getElementById("toggleLoginPass");
      const toggleSignupPass = document.getElementById("toggleSignupPass");

      const loginPassword = document.getElementById("loginPassword");
      const signupPassword = document.getElementById("signupPassword");
      const signupConfirm = document.getElementById("signupConfirm");

      const spotlight = document.getElementById("spotlight");

      // Toast
      const toast = document.getElementById("toast");
      const toastClose = document.getElementById("toastClose");
      const toastTitle = document.getElementById("toastTitle");
      const toastMsg = document.getElementById("toastMsg");
      const toastTag = document.getElementById("toastTag");
      const toastDot = document.getElementById("toastDot");

      // -----------------------------
      // State
      // -----------------------------
      let mode = "login"; // 'login' | 'signup'
      let toastTimer = null;

      // -----------------------------
      // Helpers
      // -----------------------------
      const $ = (id) => document.getElementById(id);

      function setMode(nextMode) {
        mode = nextMode;

        // UI: track slide
        const x = mode === "login" ? "0%" : "-50%";
        formsTrack.style.transform = `translateX(${x})`;

        // Tab pill slide
        tabPill.style.transform = mode === "login" ? "translateX(0%)" : "translateX(100%)";

        // Tab text emphasis
        if (mode === "login") {
          tabLogin.classList.add("text-slate-50");
          tabSignup.classList.remove("text-slate-50");
          tabSignup.classList.add("text-slate-200/70");
        } else {
          tabSignup.classList.add("text-slate-50");
          tabSignup.classList.remove("text-slate-200/70");
          tabLogin.classList.remove("text-slate-50");
          tabLogin.classList.add("text-slate-200/70");
        }

        // Glitch label
        modeLabel.setAttribute("data-text", mode === "login" ? "LOGIN" : "SIGNUP");
        modeLabel.textContent = mode === "login" ? "LOGIN" : "SIGNUP";

        // Clear errors on mode switch
        clearAllErrors();

        // Tiny micro-interaction: pulse glitch lightly
        if (!reduceMotion) {
          triggerGlitchBurst(220);
        }
      }

      function isEmailValid(value) {
        // Simple robust email check (no heavy regex)
        const v = String(value || "").trim();
        if (v.length < 6) return false;
        const at = v.indexOf("@");
        const dot = v.lastIndexOf(".");
        return at > 0 && dot > at + 1 && dot < v.length - 1;
      }

      function showError(fieldId, errorKey, message) {
        const field = document.getElementById(fieldId);
        if (!field) return;

        field.classList.add("is-invalid", "animate-shake");

        // Remove shake after animation to allow retrigger
        setTimeout(() => field.classList.remove("animate-shake"), 420);

        const el = document.querySelector(`[data-error-for="${errorKey}"]`);
        if (el) {
          el.textContent = message;
          el.classList.remove("hidden");
        }
      }

      function hideError(fieldId, errorKey) {
        const field = document.getElementById(fieldId);
        if (!field) return;
        field.classList.remove("is-invalid");

        const el = document.querySelector(`[data-error-for="${errorKey}"]`);
        if (el) el.classList.add("hidden");
      }

      function clearAllErrors() {
        // Login
        hideError("loginEmailField", "loginEmail");
        hideError("loginPassField", "loginPassword");
        // Signup
        hideError("signupNameField", "signupName");
        hideError("signupEmailField", "signupEmail");
        hideError("signupPassField", "signupPassword");
        hideError("signupConfirmField", "signupConfirm");
        const termsError = document.querySelector(`[data-error-for="terms"]`);
        if (termsError) termsError.classList.add("hidden");

        // Also clear any invalid classes that might remain
        document.querySelectorAll(".is-invalid").forEach((n) => n.classList.remove("is-invalid"));
      }

      function toastShow({ type = "info", title = "SYSTEM", tag = "NOTICE", message = "" }) {
        if (!toast) return;

        // style
        toastTitle.textContent = title.toUpperCase();
        toastTag.textContent = tag.toUpperCase();
        toastMsg.textContent = message;

        // dot color by type
        toastDot.className = "mt-1 h-3 w-3 rounded-full";
        if (type === "success") {
          toastDot.classList.add("bg-cyan-300/80");
          toastDot.style.boxShadow = "0 0 18px rgba(34,211,238,.25)";
        } else if (type === "error") {
          toastDot.classList.add("bg-pink-400/80");
          toastDot.style.boxShadow = "0 0 18px rgba(255,61,242,.20)";
        } else {
          toastDot.classList.add("bg-sky-300/80");
          toastDot.style.boxShadow = "0 0 18px rgba(56,189,248,.18)";
        }

        toast.classList.add("show");

        if (toastTimer) clearTimeout(toastTimer);
        toastTimer = setTimeout(() => toastHide(), 4200);
      }

      function toastHide() {
        if (!toast) return;
        toast.classList.remove("show");
      }

      // Glitch burst (elegant)
      function triggerGlitchBurst(duration = 420) {
        if (reduceMotion) return;
        [headline, modeLabel, brandLogo].forEach((el) => {
          if (!el) return;
          el.classList.add("glitch-burst");
        });

        setTimeout(() => {
          [headline, modeLabel, brandLogo].forEach((el) => el && el.classList.remove("glitch-burst"));
        }, duration);
      }

      // Ripple effect for buttons
      function attachRipple(el) {
        if (!el) return;
        el.addEventListener("pointerdown", (e) => {
          // Only left click / primary pointer
          if (e.button !== undefined && e.button !== 0) return;

          const rect = el.getBoundingClientRect();
          const r = document.createElement("span");
          r.className = "ripple";
          const size = Math.max(rect.width, rect.height) * 0.18;
          const x = (e.clientX - rect.left);
          const y = (e.clientY - rect.top);
          r.style.width = `${size}px`;
          r.style.height = `${size}px`;
          r.style.left = `${x}px`;
          r.style.top = `${y}px`;
          r.style.transform = "translate(-50%, -50%) scale(0)";
          el.appendChild(r);

          r.addEventListener("animationend", () => r.remove(), { once: true });
        });
      }

      // Password toggle
      function togglePassword(inputEl, btnEl) {
        if (!inputEl) return;
        const next = inputEl.type === "password" ? "text" : "password";
        inputEl.type = next;

        // micro feedback: brief glow
        btnEl && btnEl.classList.add("shadow-[0_0_18px_rgba(34,211,238,.18)]");
        setTimeout(() => btnEl && btnEl.classList.remove("shadow-[0_0_18px_rgba(34,211,238,.18)]"), 220);
      }

      // -----------------------------
      // Background spotlight (mousemove throttled + rAF)
      // -----------------------------
      let mx = 0.5, my = 0.35;
      let pending = false;

      function onMove(ev) {
        if (reduceMotion) return;
        // Throttle via rAF
        const x = ev.clientX / window.innerWidth;
        const y = ev.clientY / window.innerHeight;

        mx = x; my = y;

        if (!pending) {
          pending = true;
          requestAnimationFrame(() => {
            spotlight.style.setProperty("--mx", `${(mx * 100).toFixed(2)}%`);
            spotlight.style.setProperty("--my", `${(my * 100).toFixed(2)}%`);
            pending = false;
          });
        }
      }

      // -----------------------------
      // Energy orbs slight drift (cheap)
      // -----------------------------
      const orbA = document.getElementById("orbA");
      const orbB = document.getElementById("orbB");
      const orbC = document.getElementById("orbC");

      function orbDrift() {
        if (reduceMotion) return;
        const t = Date.now() * 0.001;
        if (orbA) orbA.style.transform = `translate(${Math.sin(t * 0.7) * 10}px, ${Math.cos(t * 0.6) * 12}px)`;
        if (orbB) orbB.style.transform = `translate(${Math.cos(t * 0.55) * 12}px, ${Math.sin(t * 0.5) * 10}px)`;
        if (orbC) orbC.style.transform = `translate(${Math.sin(t * 0.45) * 12}px, ${Math.cos(t * 0.4) * 10}px)`;
        requestAnimationFrame(orbDrift);
      }

      // -----------------------------
      // Validation
      // -----------------------------
      function validateLogin() {
        let ok = true;
        const email = ($("loginEmail").value || "").trim();
        const pass = $("loginPassword").value || "";

        if (!isEmailValid(email)) {
          showError("loginEmailField", "loginEmail", "Invalid email format.");
          ok = false;
        } else {
          hideError("loginEmailField", "loginEmail");
        }

        if (pass.length < 8) {
          showError("loginPassField", "loginPassword", "Password must be at least 8 characters.");
          ok = false;
        } else {
          hideError("loginPassField", "loginPassword");
        }

        return ok;
      }

      function validateSignup() {
        let ok = true;
        const name = ($("signupName").value || "").trim();
        const email = ($("signupEmail").value || "").trim();
        const pass = $("signupPassword").value || "";
        const conf = $("signupConfirm").value || "";
        const terms = $("terms").checked;

        if (!name) {
          showError("signupNameField", "signupName", "Name is required.");
          ok = false;
        } else {
          hideError("signupNameField", "signupName");
        }

        if (!isEmailValid(email)) {
          showError("signupEmailField", "signupEmail", "Invalid email format.");
          ok = false;
        } else {
          hideError("signupEmailField", "signupEmail");
        }

        if (pass.length < 8) {
          showError("signupPassField", "signupPassword", "Password must be at least 8 characters.");
          ok = false;
        } else {
          hideError("signupPassField", "signupPassword");
        }

        if (!conf || conf !== pass) {
          showError("signupConfirmField", "signupConfirm", "Passwords do not match.");
          ok = false;
        } else {
          hideError("signupConfirmField", "signupConfirm");
        }

        const termsError = document.querySelector(`[data-error-for="terms"]`);
        if (!terms) {
          if (termsError) termsError.classList.remove("hidden");
          ok = false;
        } else {
          if (termsError) termsError.classList.add("hidden");
        }

        return ok;
      }

      // Inline live validation (light)
      function attachLiveValidation() {
        const map = [
          { input: $("loginEmail"), fn: () => {
              const v = ($("loginEmail").value || "").trim();
              if (!v) return hideError("loginEmailField", "loginEmail");
              isEmailValid(v) ? hideError("loginEmailField", "loginEmail") : null;
            }
          },
          { input: $("loginPassword"), fn: () => {
              const v = $("loginPassword").value || "";
              if (!v) return hideError("loginPassField", "loginPassword");
              v.length >= 8 ? hideError("loginPassField", "loginPassword") : null;
            }
          },
          { input: $("signupName"), fn: () => {
              const v = ($("signupName").value || "").trim();
              if (!v) return hideError("signupNameField", "signupName");
              hideError("signupNameField", "signupName");
            }
          },
          { input: $("signupEmail"), fn: () => {
              const v = ($("signupEmail").value || "").trim();
              if (!v) return hideError("signupEmailField", "signupEmail");
              isEmailValid(v) ? hideError("signupEmailField", "signupEmail") : null;
            }
          },
          { input: $("signupPassword"), fn: () => {
              const v = $("signupPassword").value || "";
              if (!v) return hideError("signupPassField", "signupPassword");
              v.length >= 8 ? hideError("signupPassField", "signupPassword") : null;
            }
          },
          { input: $("signupConfirm"), fn: () => {
              const pass = $("signupPassword").value || "";
              const conf = $("signupConfirm").value || "";
              if (!conf) return hideError("signupConfirmField", "signupConfirm");
              conf === pass ? hideError("signupConfirmField", "signupConfirm") : null;
            }
          },
          { input: $("terms"), fn: () => {
              const termsError = document.querySelector(`[data-error-for="terms"]`);
              if (!termsError) return;
              $("terms").checked ? termsError.classList.add("hidden") : null;
            }
          }
        ];

        map.forEach(({ input, fn }) => {
          if (!input) return;
          input.addEventListener("input", fn, { passive: true });
          input.addEventListener("change", fn, { passive: true });
          input.addEventListener("blur", fn, { passive: true });
        });
      }

      // -----------------------------
      // Events
      // -----------------------------
      tabLogin.addEventListener("click", () => setMode("login"));
      tabSignup.addEventListener("click", () => setMode("signup"));

      // Password toggles
      toggleLoginPass.addEventListener("click", () => togglePassword(loginPassword, toggleLoginPass));
      toggleSignupPass.addEventListener("click", () => togglePassword(signupPassword, toggleSignupPass));

      // Button ripples
      document.querySelectorAll(".btn-electric").forEach(attachRipple);

      // Close toast (ESC too)
      toastClose.addEventListener("click", () => toastHide());
      window.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          toastHide();
        }
      });

      // Submit handlers
      loginForm.addEventListener("submit", (e) => {
        e.preventDefault();
        clearAllErrors();

        const ok = validateLogin();
        if (!ok) {
          toastShow({
            type: "error",
            title: "AUTH",
            tag: "DENIED",
            message: "Credential validation failed. Check highlighted fields."
          });
          return;
        }

        // Simulate success
        toastShow({
          type: "success",
          title: "AUTH",
          tag: "GRANTED",
          message: "Access granted. Encrypted session initialized (simulated)."
        });
        triggerGlitchBurst(520);
      });

      signupForm.addEventListener("submit", (e) => {
        e.preventDefault();
        clearAllErrors();

        const ok = validateSignup();
        if (!ok) {
          toastShow({
            type: "error",
            title: "SIGNUP",
            tag: "BLOCKED",
            message: "Verification failed. Resolve highlighted fields."
          });
          return;
        }

        toastShow({
          type: "success",
          title: "SIGNUP",
          tag: "CREATED",
          message: "Identity created. Secure onboarding engaged (simulated)."
        });
        triggerGlitchBurst(560);
      });

      // Mouse spotlight
      window.addEventListener("mousemove", onMove, { passive: true });

      // Glitch burst scheduler (6–12s)
      if (!reduceMotion) {
        let glitchTimeout = null;
        function scheduleGlitch() {
          const delay = 6000 + Math.random() * 6000; // 6-12s
          glitchTimeout = setTimeout(() => {
            triggerGlitchBurst(320 + Math.random() * 280); // 300-600ms-ish
            scheduleGlitch();
          }, delay);
        }
        scheduleGlitch();
      } else {
        // Reduce motion: make spotlight less distracting
        spotlight.style.opacity = ".55";
      }

      // Start orb drift loop (cheap rAF)
      if (!reduceMotion) requestAnimationFrame(orbDrift);

      // Live validation
      attachLiveValidation();

      // Initial mode
      setMode("login");

    })();
  </script>
</body>
</html>
